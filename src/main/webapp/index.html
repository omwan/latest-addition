<!DOCTYPE html>
<html lang="en" >
<head>

    <title>Latest Additions</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/ico" href="assets/octopus_favicon.png" />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,600" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    <!-- Angular Material style sheet -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css" />

    <!-- Angular Material requires Angular.js Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-messages.min.js"></script>

    <!-- Angular Material Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.js"></script>

    <!-- Your application bootstrap  -->
    <script src="js/app.js"></script>

    <link rel="stylesheet" href="styles/source.css" />
</head>
<body ng-app="app" ng-controller="controller">

    <div class="container">

        <center>
            <md-button class="md-raised md-primary auth" ng-if="playlists === null" href="/api/spotify/init">
                <i class="fa fa-spotify"></i> authorize
            </md-button>
        </center>

        <md-content class="input-form" ng-if="playlists !== null">

            <md-input-container>
                <label>Playlist Name</label>
                <input ng-model="playlistName">
            </md-input-container>

            <md-input-container>
                <label>Number of Songs</label>
                <input ng-model="numTracks">
            </md-input-container>

            <div class="playlist-select">

                <div class="playlist-sort">
                    <p>
                        <label>Sort Playlists</label>
                    </p>
                    <md-radio-group ng-model="playlistSort">
                        <md-radio-button value="$index">
                            default
                        </md-radio-button>
                        <md-radio-button value="name">
                            alphabetical
                        </md-radio-button>
                        <md-radio-button value="owner.displayName">
                            owner
                        </md-radio-button>
                    </md-radio-group>
                    <md-checkbox ng-model="playlistSortReverse">reverse</md-checkbox>
                </div>

                <md-input-container class="playlist-filter">
                    <label>Filter playlists</label>
                    <input ng-model="playlistFilter">
                </md-input-container>

                <div class="playlist-list">
                    <md-list-item ng-repeat="playlist in playlists.items | orderBy:playlistSort:playlistSortReverse | filter:{name:playlistFilter}">
                        <md-checkbox ng-checked="exists(playlist.uri, selectedPlaylists)" ng-click="toggle(playlist.uri, selectedPlaylists)" aria-label="playlist.name"></md-checkbox>

                        {{playlist.name}} |

                        <span ng-if="playlist.owner.displayName !== null">
                            {{playlist.owner.displayName}}
                        </span>

                        <span ng-if="playlist.owner.displayName === null">
                            {{playlist.owner.id}}
                        </span>

                    </md-list-item>
                </div>

                <center>
                    <md-button class="md-raised md-primary" ng-if="playlists.next !== null" ng-click="loadMorePlaylists()">
                        load more
                    </md-button>
                </center>
            </div>

        </md-content>

    </div>

    <script src="js/controller.js"></script>

</body>
</html>